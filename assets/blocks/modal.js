import $ from "jquery";

$(function() {
  var $close, $currentTarget, $modal, $overlay;
  $close = $("a.js-modal-close");
  $modal = $("div.js-modal");
  $overlay = $('div.js-modal__overlay');
  $overlay.css({
    display: "none",
    position: "fixed",
    top: 0,
    bottom: 0,
    left: 0,
    right: 0,
    background: "rgba(0,0,0,0.6)"
  });
  $currentTarget = null;
  $overlay.on("click", function(e) {
    $modal.trigger("hide");
    return e.stopPropagation();
  });
  $modal.on("show", function(e, target) {
    if ($currentTarget !== null) {
      $currentTarget.hide();
    }
    $currentTarget = $(target);
    $overlay.appendTo($modal).show();
    return $currentTarget.show();
  });
  $modal.on("hide", function(e) {
    $overlay.hide();
    $currentTarget.hide();
    return $currentTarget = null;
  });
  $(document).on('click', ".js-modal-close", function() {
    return $modal.trigger("hide");
  });
  return $(document).on('click', ".js-modal-trigger", function() {
    var target;
    target = $(this).data("modal-target");
    return $modal.trigger("show", target);
  });
});

// ---
// generated by coffee-script 1.9.2